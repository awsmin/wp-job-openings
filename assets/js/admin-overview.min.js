"use strict";jQuery(document).ready(function(a){var e=window.awsmJobsOverview=window.awsmJobsOverview||{},r=(postboxes.add_postbox_toggles(awsmJobsAdminOverview.screen_id),{id:"chartAreaCustomizer",beforeDraw:function(a,t,e){if(e.chartArea&&e.chartArea.primaryBgColor){var r=e.chartArea.primaryBgColor,i=e.chartArea.secondaryBgColor||r,o=a.ctx,s=a.chartArea,e=s.bottom-s.top,n=a.scales.y.ticks.length-1,d=e/n;o.save();for(var l=1;l<=n;l++){o.fillStyle=l%2==0?i:r;var c=s.top;1<l&&(c+=(l-1)*d),o.fillRect(s.left,c,s.right-s.left,d)}o.restore()}}}),i=a("#awsm-jobs-overview-applications-analytics-chart"),o={labels:awsmJobsAdminOverview.analytics_data.labels,datasets:[{label:awsmJobsAdminOverview.i18n.chart_label,data:awsmJobsAdminOverview.analytics_data.data,fill:!1,borderColor:"#149efe",backgroundColor:"#149efe",pointBackgroundColor:"#0091ff",pointBorderColor:"#e9f5fe",borderWidth:4,pointBorderWidth:2,pointRadius:4,pointHoverRadius:5,tension:.1}]},s={scales:{x:{grid:{borderWidth:1.5,drawOnChartArea:!1,tickWidth:1.5},ticks:{font:{weight:"bold"}}},y:{grid:{drawBorder:!1,tickLength:10,tickWidth:0},ticks:{font:{weight:"bold"},precision:0}}},plugins:{legend:{display:!1},chartAreaCustomizer:{chartArea:{primaryBgColor:"#fafafa",secondaryBgColor:"#fff"}}}},n=(e.analyticsChart={data:o,option:s,plugins:[r]},null);e.renderAnalyticsChart=function(a,t){t=void 0!==t&&t,(a=void 0!==a&&a)&&n&&(n.destroy(),n=null),n=n||new Chart(i,{type:"line",data:o,options:s,plugins:[r]}),t&&"labels"in t&&"data"in t&&(n.data.labels=t.labels,n.data.datasets[0].data=t.data,"datasets"in t&&(n.data.datasets=t.datasets),n.reset(),n.update())},awsmJobsAdminOverview.analytics_data&&"data"in awsmJobsAdminOverview.analytics_data&&0<awsmJobsAdminOverview.analytics_data.data.length&&(e.renderAnalyticsChart(),a(".awsm-jobs-overview-mb-wrapper .meta-box-sortables").on("sortstop",function(a,t){"awsm-jobs-overview-applications-analytics"===t.item.attr("id")&&e.renderAnalyticsChart(!0)}),a("#awsm-jobs-overview-applications-analytics .handle-order-higher, #awsm-jobs-overview-applications-analytics .handle-order-lower").on("click.postboxes",function(){e.renderAnalyticsChart(!0)}))});