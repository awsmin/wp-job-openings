{"version":3,"sources":["overview.js"],"names":["jQuery","document","ready","$","awsmJobsOverview","window","chartAreaPlugin","postboxes","add_postbox_toggles","awsmJobsAdminOverview","screen_id","id","beforeDraw","chart","args","options","chartArea","primaryBgColor","primaryColor","secondaryColor","secondaryBgColor","ctx","height","bottom","top","divisions","scales","y","ticks","length","factor","save","fillStyle","rectY","fillRect","left","right","restore","data","labels","analytics_data","datasets","label","i18n","chart_label","backgroundColor","borderColor","pointBorderColor","pointBackgroundColor","pointHoverBackgroundColor","pointHoverBorderColor","pointRadius","borderWidth","pointHitRadius","fill","tension","x","grid","drawOnChartArea","tickWidth","display","drawBorder","font","weight","tickLength","color","borderDash","precision","stepSize","elements","line","point","radius","layout","padding","plugins","legend","analyticsChart","option","renderAnalyticsChart","reRender","chartData","destroy","Chart","type","reset","update","on","e","ui","item","attr"],"mappings":"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","file":"admin-overview.min.js","sourcesContent":["/* global awsmJobsAdminOverview, postboxes, Chart */\n\n'use strict';\n\njQuery(document).ready(function($) {\n\tvar awsmJobsOverview = window.awsmJobsOverview = window.awsmJobsOverview || {};\n\n\t/*================ Meta-boxes ================*/\n\n\t// Activate toggle state.\n\tpostboxes.add_postbox_toggles(awsmJobsAdminOverview.screen_id);\n\n\t/*================ Charts ================*/\n\t// Define the chartAreaPlugin\n\n\n\n\n\n\t//--------------------------------------------\n\n\tvar chartAreaPlugin = {\n\t\tid: 'chartAreaCustomizer',\n\t\tbeforeDraw: function(chart, args, options) {\n\t\t\tif (options.chartArea && options.chartArea.primaryBgColor) {\n\t\t\t\tvar primaryColor = options.chartArea.primaryBgColor;\n\t\t\t\tvar secondaryColor = options.chartArea.secondaryBgColor || primaryColor;\n\t\t\t\tvar ctx = chart.ctx;\n\t\t\t\tvar chartArea = chart.chartArea;\n\t\t\t\tvar height = chartArea.bottom - chartArea.top;\n\t\t\t\tvar divisions = chart.scales.y.ticks.length - 1;\n\t\t\t\tvar factor = height / divisions;\n\n\t\t\t\tctx.save();\n\t\t\t\tfor (var ticks = 1; ticks <= divisions; ticks++) {\n\t\t\t\t\tif (ticks % 2 === 0) {\n\t\t\t\t\t\tctx.fillStyle = secondaryColor;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.fillStyle = primaryColor;\n\t\t\t\t\t}\n\t\t\t\t\tvar rectY = chartArea.top;\n\t\t\t\t\tif (ticks > 1) {\n\t\t\t\t\t\trectY += (ticks - 1) * factor;\n\t\t\t\t\t}\n\t\t\t\t\tctx.fillRect(chartArea.left, rectY, chartArea.right - chartArea.left, factor);\n\t\t\t\t}\n\t\t\t\tctx.restore();\n\t\t\t}\n\t\t}\n\t};\n\n\t// Applications analytics chart\n\tvar ctx = $('#awsm-jobs-overview-applications-analytics-chart');\n\tvar data = {\n\t\tlabels: awsmJobsAdminOverview.analytics_data.labels,\n\t\tdatasets: [ {\n\t\t\tlabel: awsmJobsAdminOverview.i18n.chart_label,\n            data: awsmJobsAdminOverview.analytics_data.data,\n            backgroundColor: 'rgba(108, 250, 228, 0.15)', \n            borderColor: '#6CFAE4', // Border color\n            pointBorderColor: '#6CFAE4',\n            pointBackgroundColor: '#6CFAE4',\n            pointHoverBackgroundColor: '#6CFAE4',\n            pointHoverBorderColor: '#6CFAE4',\n            pointRadius: 0,\n            borderWidth: 4, // Border width\n            pointHitRadius: 10,\n            fill: true,\n            tension: 0.4 // Smooth curve\n\t\t} ]\n\t};\n\tvar options = {\n\t\tscales: {\n\t\t\tx: {\n\t\t\t\tgrid: {\n\t\t\t\t\tborderWidth: 1.5,\n\t\t\t\t\tdrawOnChartArea: false,\n\t\t\t\t\ttickWidth: 1.5,\n\t\t\t\t\tdisplay: false, // Remove vertical grid lines\n\t\t\t\t\tdrawBorder: false\n\t\t\t\t},\n\t\t\t\tticks: {\n\t\t\t\t\tfont: {\n\t\t\t\t\t\tweight: 'normal'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\ty: {\n\t\t\t\tgrid: {\n\t\t\t\t\tdrawBorder: false,\n\t\t\t\t\ttickLength: 10,\n\t\t\t\t\ttickWidth: 0,\n\t\t\t\t\tcolor: '#F2F2F2', // Set grid line color\n                    borderDash: [5, 5],\n\t\t\t\t\tdrawBorder: false // Set grid lines as dotted\n\t\t\t\t},\n\t\t\t\tticks: {\n\t\t\t\t\tfont: {\n\t\t\t\t\t\tweight: 'normal'\n\t\t\t\t\t},\n\t\t\t\t\tprecision: 0,\n\t\t\t\t\tstepSize: 5,\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\telements: {\n            line: {\n                borderColor: '#6CFAE4',\n                borderWidth: 4\n            },\n            point: {\n                radius: 0 // Hide the points\n            }\n        },\n\t\tlayout: {\n            padding: {\n                right: 20, // Padding to the right for y-axis\n                bottom: 20 // Padding to the bottom for x-axis\n            }\n        },\n\t\tplugins: {\n\t\t\tlegend: {\n\t\t\t\tdisplay: false\n\t\t\t}\n\t\t}\n\t};\n\n\tawsmJobsOverview.analyticsChart = {\n\t\tdata: data,\n\t\toption: options,\n\t\tplugins: [ chartAreaPlugin ]\n\t};\n\n\tvar analyticsChart = null;\n\tawsmJobsOverview.renderAnalyticsChart = function(reRender, chartData) {\n\t\treRender = typeof reRender !== 'undefined' ? reRender : false;\n\t\tchartData = typeof chartData !== 'undefined' ? chartData : false;\n\t\tif (reRender && analyticsChart) {\n\t\t\tanalyticsChart.destroy();\n\t\t\tanalyticsChart = null;\n\t\t}\n\t\tif (! analyticsChart) {\n\t\t\tanalyticsChart = new Chart(ctx, {\n\t\t\t\ttype: 'line',\n\t\t\t\tdata: data,\n\t\t\t\toptions: options,\n\t\t\t\tplugins: [ chartAreaPlugin ]\n\t\t\t});\n\t\t}\n\t\tif (chartData && 'labels' in chartData && 'data' in chartData) {\n\t\t\tanalyticsChart.data.labels = chartData.labels;\n\t\t\tanalyticsChart.data.datasets[0].data = chartData.data;\n\t\t\tif ('datasets' in chartData) {\n\t\t\t\tanalyticsChart.data.datasets = chartData.datasets;\n\t\t\t}\n\t\t\tanalyticsChart.reset();\n\t\t\tanalyticsChart.update();\n\t\t}\n\t};\n\n\tif (awsmJobsAdminOverview.analytics_data && 'data' in awsmJobsAdminOverview.analytics_data && awsmJobsAdminOverview.analytics_data.data.length > 0) {\n\t\tawsmJobsOverview.renderAnalyticsChart();\n\n\t\t$('.awsm-jobs-overview-mb-wrapper .meta-box-sortables').on('sortstop', function(e, ui) {\n\t\t\tif (ui.item.attr('id') === 'awsm-jobs-overview-applications-analytics') {\n\t\t\t\tawsmJobsOverview.renderAnalyticsChart(true);\n\t\t\t}\n\t\t});\n\t\t$('#awsm-jobs-overview-applications-analytics .handle-order-higher, #awsm-jobs-overview-applications-analytics .handle-order-lower' ).on('click.postboxes', function() {\n\t\t\tawsmJobsOverview.renderAnalyticsChart(true);\n\t\t});\n\t}\n});\n"]}