{"version":3,"file":"view.js","mappings":"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","sources":["webpack://joblistings/./src/view.js"],"sourcesContent":["'use strict';\n\njQuery(function($) { \n\tvar rootWrapperSelector = '.awsm-b-job-wrap';\n\tvar wrapperSelector = '.awsm-b-job-listings'; \n\tvar sectionSelector = '.awsm-b-job-listing-items';\n\n\t/* ========== Job Search and Filtering ========== */\n\n\tvar filterSelector = '.awsm-b-filter-wrap';\n\tvar currentUrl = window.location.protocol + '//' + window.location.host + window.location.pathname;\n\tvar triggerFilter = true;\n\n\tfunction getListingsData($wrapper) { \n\t\tvar data = [];\n\t\tvar parsedListingsAttrs = [ 'listings', 'specs', 'search', 'lang', 'taxonomy', 'termId' ];\n\n\t\t/* added for block */\n\t\tparsedListingsAttrs.push('awsm-layout');\n\t\tparsedListingsAttrs.push('awsm-hide-expired-jobs');\n\t\tparsedListingsAttrs.push('awsm-other-options');\n\t\tparsedListingsAttrs.push('awsm-listings-total');\n\t\tparsedListingsAttrs.push('awsm-selected-terms');\n\t\tparsedListingsAttrs.push('sort');\n\t\t/* end */\n\t\t$(document).trigger('awsmJobBlockListingsData', [ parsedListingsAttrs ]);\n\n\t\tvar dataAttrs = $wrapper.data();\n\t\t$.each(dataAttrs, function(dataAttr, value) { \n\t\t\tif ($.inArray(dataAttr, parsedListingsAttrs) === -1) {\n\t\t\t\tdata.push({\n\t\t\t\t\tname: dataAttr,\n\t\t\t\t\tvalue: value\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn data;\n\t}\n\t\n    function awsmJobFilters($rootWrapper) { \n\t\tvar $wrapper = $rootWrapper.find(wrapperSelector); \n\t\tvar $rowWrapper = $wrapper.find(sectionSelector);\n\t\tvar $filterForm = $rootWrapper.find(filterSelector + ' form'); \n\t\tvar formData = [];\n\t\n\t\tif ($filterForm.length > 0) {\n\t\t\t// Form exists → Serialize form data\n\t\t\tformData = $filterForm.serializeArray();\n\t\t\tvar formMethod = $filterForm.attr('method') ? $filterForm.attr('method').toUpperCase() : 'POST';\n\t\t} else {\n\t\t\t// Form is missing → Manually construct data\n\t\t\tformData.push({ name: 'action', value: 'block_jobfilter' }); // Ensure action is included\n\t\t\tvar formMethod = 'POST';\n\t\t}\n\t\n\t\tvar listings \t\t  = $wrapper.data('listings');\n\t\tvar specs \t\t\t  = $wrapper.data('specs'); \n\t\tvar sortFilter \t\t  = $rootWrapper.find('.awsm-job-sort-filter').val();  \n\t\tvar layout \t\t\t  = $wrapper.data('awsm-layout');\n\t\tvar hide_expired_jobs = $wrapper.data('awsm-hide-expired-jobs'); \n\t\tvar selected_terms \t  = $wrapper.data('awsm-selected-terms'); \n\t\tvar other_options     = $wrapper.data('awsm-other-options'); \n\t\tvar listings_total    = $wrapper.data('awsm-listings-total');\n\t\tvar sort              = $wrapper.data('sort'); \n\t\n\t\tformData.push({ name: 'listings_per_page', value: listings });\n\t\n\t\tif (typeof sortFilter !== 'undefined' && sortFilter !== '') {\n\t\t\tformData.push({ name: 'filter_sort', value: sortFilter });\n\t\t} else if (typeof sort !== 'undefined') {\n\t\t\tformData.push({ name: 'filter_sort', value: sort });\n\t\t}\n\t\n\t\tif (typeof specs !== 'undefined') {\n\t\t\tformData.push({ name: 'shortcode_specs', value: specs });\n\t\t}\n\t\n\t\tif (typeof layout !== 'undefined') {\n\t\t\tformData.push({ name: 'awsm-layout', value: layout });\n\t\t}\n\t\n\t\tif (selected_terms) {\n\t\t\tif (typeof selected_terms === 'string') {\n\t\t\t\ttry {\n\t\t\t\t\tselected_terms = JSON.parse(selected_terms);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error(\"Failed to parse selected_terms JSON:\", error);\n\t\t\t\t\tselected_terms = {};\n\t\t\t\t}\n\t\t\t}\n\t\t\tformData.push({\n\t\t\t\tname: 'awsm-selected-terms',\n\t\t\t\tvalue: JSON.stringify(selected_terms)\n\t\t\t});\n\t\t}\n\t\n\t\tif (typeof hide_expired_jobs !== 'undefined') {\n\t\t\tformData.push({ name: 'awsm-hide-expired-jobs', value: hide_expired_jobs });\n\t\t}\n\t\n\t\tif (typeof other_options !== 'undefined') {\n\t\t\tformData.push({ name: 'awsm-other-options', value: other_options });\n\t\t}\n\t\n\t\tif (typeof listings_total !== 'undefined') {\n\t\t\tformData.push({ name: 'awsm-listings-total', value: listings_total });\n\t\t}\n\t\n\t\tvar listingsData = getListingsData($wrapper); \n\t\tif (listingsData.length > 0) {\n\t\t\tformData = formData.concat(listingsData);\n\t\t}\n\t\n\t\t// Trigger custom event to provide formData\n\t\t$(document).trigger('awsmJobBlockFiltersFormData', [$wrapper, formData]);\n\t\n\t\tif (triggerFilter) {\n\t\t\ttriggerFilter = false;\n\t\n\t\t\t// Determine action URL (fallback if form is missing)\n\t\t\tvar actionUrl = $filterForm.length > 0 ? $filterForm.attr('action') : awsmJobsPublic.ajaxurl;\n\t\n\t\t\t$.ajax({\n\t\t\t\turl: actionUrl,\n\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t$wrapper.addClass('awsm-jobs-loading');\n\t\t\t\t},\n\t\t\t\tdata: formData,\n\t\t\t\ttype: formMethod\n\t\t\t}).done(function(data) { \n\t\t\t\t$rowWrapper.html(data);\n\t\n\t\t\t\tvar $searchControl = $rootWrapper.find('.awsm-b-job-search'); \n\t\t\t\tif ($searchControl.length > 0) {\n\t\t\t\t\tif ($searchControl.val().length > 0) {\n\t\t\t\t\t\t$rootWrapper.find('.awsm-b-job-search-btn').addClass('awsm-job-hide');\n\t\t\t\t\t\t$rootWrapper.find('.awsm-b-job-search-close-btn').removeClass('awsm-job-hide');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$rootWrapper.find('.awsm-b-job-search-btn').removeClass('awsm-job-hide');\n\t\t\t\t\t\t$rootWrapper.find('.awsm-b-job-search-close-btn').addClass('awsm-job-hide');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$(document).trigger('awsmjobs_filtered_listings', [ $rootWrapper, data ]);\n\t\t\t}).fail(function(xhr) {\n\t\t\t\tconsole.log(xhr);\n\t\t\t}).always(function() {\n\t\t\t\t$wrapper.removeClass('awsm-jobs-loading');\n\t\t\t\ttriggerFilter = true;\n\t\t\t});\n\t\t}\n\t}\n\t\n\tfunction filterCheck($filterForm) {\n\t\tvar check = false;\n\t\tif ($filterForm.length > 0) {\n\t\t\tvar $filterOption = $filterForm.find('.awsm-b-filter-option');\n\t\t\t$filterOption.each(function() {\n\t\t\t\tif ($(this).val().length > 0) {\n\t\t\t\t\tcheck = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn check;\n\t}\n\n\tfunction searchJobs($elem) {\n\t\tvar $rootWrapper = $elem.parents(rootWrapperSelector);\n\t\tvar searchQuery = $rootWrapper.find('.awsm-b-job-search').val();\n\t\t$rootWrapper.find(wrapperSelector).data('search', searchQuery);\n\t\tif (searchQuery.length === 0) {\n\t\t\t//$rootWrapper.find('.awsm-b-job-search-icon-wrapper').addClass('awsm-b-job-hide');\n\t\t}\n\t\tsetPaginationBase($rootWrapper, 'jq', searchQuery);\n\t\tif (awsmJobsPublic.deep_linking.search) {\n\t\t\tvar $paginationBase = $rootWrapper.find('input[name=\"awsm_pagination_base\"]');\n\t\t\tupdateQuery('jq', searchQuery, $paginationBase.val());\n\t\t}\n\t\tawsmJobFilters($rootWrapper);\n\t}\n\n\tif ($(rootWrapperSelector).length > 0) { \n\t\t$(rootWrapperSelector).each(function() { \n\t\t\tvar $currentWrapper = $(this); \n\t\t\tvar $filterForm = $currentWrapper.find(filterSelector + ' form'); \n\t\t\tif (awsmJobsPublic.is_search.length > 0 || filterCheck($filterForm)) { \n\t\t\t\ttriggerFilter = true;  \n\t\t\t\tawsmJobFilters($currentWrapper);\n\t\t\t}\n\t\t});\n\t} \n\n\tif ($(rootWrapperSelector).length > 0) { \n\t\t$(rootWrapperSelector).each(function() { \n\t\t\tvar $currentWrapper = $(this); \n\t\t\tvar $filterForm = $currentWrapper.find(filterSelector + ' form'); \n\t\t\n\t\t\tvar searchParams = new URLSearchParams(window.location.search);\n\t\t\tvar hasFiltersInURL = false;\n\t\n\t\t\tif (searchParams.toString().length > 0) {\n\t\t\t\thasFiltersInURL = true;\n\t\t\t}\n\t\n\t\t\tif (hasFiltersInURL || filterCheck($filterForm)) {\n\t\t\t\ttriggerFilter = true;\n\t\t\t\tawsmJobFilters($currentWrapper);\n\t\t\t}\n\t\t});\n\t}\n\t\n\t\t\n\tvar updateQuery = function(key, value, url) {\n\t\turl = typeof url !== 'undefined' ? url : currentUrl;\n\t\turl = url.split('?')[0];\n\t\tvar searchParams = new URLSearchParams(document.location.search);\n\t\tif (searchParams.has('paged')) {\n\t\t\tsearchParams.delete('paged');\n\t\t}\n\t\tif (value.length > 0) {\n\t\t\tsearchParams.set(key, value);\n\t\t} else {\n\t\t\tsearchParams.delete(key);\n\t\t}\n\t\tvar modQueryString = searchParams.toString();\n\t\tif (modQueryString.length > 0) {\n\t\t\tmodQueryString = '?' + modQueryString;\n\t\t}\n\t\twindow.history.replaceState({}, '', url + modQueryString);\n\t};\n\n\tvar setPaginationBase = function($rootWrapper, key, value) {\n\t\tvar $paginationBase = $rootWrapper.find('input[name=\"awsm_pagination_base\"]');\n\t\tif ($paginationBase.length > 0) {\n\t\t\tvar splittedURL = $paginationBase.val().split('?');\n\t\t\tvar queryString = '';\n\t\t\tif (splittedURL.length > 1) {\n\t\t\t\tqueryString = splittedURL[1];\n\t\t\t}\n\t\t\tvar searchParams = new URLSearchParams(queryString);\n\t\t\tif (value.length > 0) {\n\t\t\t\tsearchParams.set(key, value);\n\t\t\t} else {\n\t\t\t\tsearchParams.delete(key);\n\t\t\t}\n\t\t\t$paginationBase.val(splittedURL[0] + '?' + searchParams.toString());\n\t\t\t$rootWrapper.find('input[name=\"paged\"]').val(1);\n\t\t}\n\t};\n\n\tif ($('.awsm-b-job-no-more-jobs-get').length > 0) {\n\t\t$('.awsm-b-job-listings').hide();\n\t\t$('.awsm-b-job-no-more-jobs-get').slice(1).hide();\n\t}\n\n\t$(filterSelector + ' .awsm-b-filter-option').on('change', function (e) { \n\t\te.preventDefault();\n\t\t$('.awsm-b-job-listings').show();\n\t\n\t\tvar $elem = $(this);\n\t\tvar $rootWrapper = $elem.closest(rootWrapperSelector);\n\t\tvar currentSpec = $elem.closest('.awsm-b-filter-item').data('filter');\n\n\t\tvar isMultiple = $elem.prop('multiple'); // Check if it's a multiple select\n\t\tvar allOptions = $elem.find('option');\n\t\tvar firstOption = allOptions.eq(0); // \"All Job Type\"\n\t\tvar selectedOptions = $elem.find('option:selected');\n\t\tvar isAllSelected = firstOption.prop('selected');\n\t\n\t\tvar allLiItems = $rootWrapper.find('ul li');\n\t\tvar firstLiItem = allLiItems.eq(0); // \"All Job Type\" in <ul>\n\t\tvar selectedLiItems = allLiItems.filter('.selected');\n\t\n\t\tvar slugs = [];\n\t\t// Check if the filter is using checkboxes (by checking for input[type=checkbox] within the wrapper)\n\t\tvar isCheckboxFilter = $rootWrapper.find('input[type=\"checkbox\"]').length > 0;\n\t\n\t\tif (isMultiple) {\n\t\t\tif (isAllSelected) {\n\t\t\t\t// **\"All\" is selected → Select all**\n\t\t\t\tallOptions.prop('selected', true).addClass('selected');\n\t\t\t\tallLiItems.addClass('selected');\n\t\n\t\t\t\tslugs = allOptions.slice(1).map(function () {\n\t\t\t\t\treturn $(this).data('slug');\n\t\t\t\t}).get().filter(Boolean);\n\t\t\t} else if (selectedOptions.length === 0) {\n\t\t\t\t// **Nothing is selected → Deselect everything**\n\t\t\t\tallOptions.prop('selected', false).removeClass('selected');\n\t\t\t\tallLiItems.removeClass('selected');\n\t\t\t\tslugs = [];\n\t\t\t} else { \n\t\t\t\t// **Handle individual selection**\n\t\t\t\t//allOptions.prop('selected', false).removeClass('selected');\n\t\t\t\t//allLiItems.removeClass('selected');\n\t\n\t\t\t\tselectedOptions.each(function () {\n\t\t\t\t\t$(this).prop('selected', true).addClass('selected');\n\t\t\t\t\tvar index = $(this).index();\n\t\t\t\t\tallLiItems.eq(index).addClass('selected');\n\t\t\t\t});\n\t\n\t\t\t\tslugs = selectedOptions.map(function () {\n\t\t\t\t\treturn $(this).data('slug');\n\t\t\t\t}).get().filter(Boolean);\n\t\t\t}\n\t\t} else {\n\t\t\t// **Single select logic**\n\t\t\tslugs = selectedOptions.data('slug') ? [selectedOptions.data('slug')] : [];\n\t\t}\n\t\n\t\tvar slugString = slugs.length > 0 ? slugs.join(',') : '';\n\t\n\t\t// **Force unselect checkboxes visually**\n\t\t/* allOptions.each(function () {\n\t\t\tvar $option = $(this);\n\t\t\tif (!$option.prop('selected')) {\n\t\t\t\t$option.removeClass('selected');\n\t\t\t}\n\t\t}); */\n\t\n\t\t// **Update pagination and filters**\n\t\tif ($('.awsm-job-listings').length > 0) {\n\t\t\t$rootWrapper.find('.awsm-b-job-no-more-jobs-get').hide();\n\t\t}\n\t\n\t\tsetPaginationBase($rootWrapper, currentSpec, slugString);\n\t\n\t\t// **Update the URL**\n\t\tif (awsmJobsPublic.deep_linking.spec) {\n\t\t\tvar $paginationBase = $rootWrapper.find('input[name=\"awsm_pagination_base\"]');\n\t\t\tupdateQuery(currentSpec, slugString, $paginationBase.val());\n\t\t}\n\t\n\t\tawsmJobFilters($rootWrapper);\n\t});\n\t\n\t$(filterSelector + ' .awsm-filter-checkbox').on('change', function(e) { \n\t\tvar selectedFilters = {};\n\t\tvar slugs = [];  // Initialize an array to collect slugs\n\t\tvar $elem = $(this);\n\t\tvar $rootWrapper = $elem.parents(rootWrapperSelector);\n\t\tvar currentSpec = $elem.parents('.awsm-filter-list-item').data('filter'); \n\t\n\t\t// Loop through checked checkboxes and build selectedFilters and slugs array\n\t\t$('.awsm-filter-checkbox:checked').each(function() {\n\t\t\tvar taxonomy = $(this).data('taxonomy');\n\t\t\tvar termId = $(this).data('term-id');\n\t\t\tvar slug = $(this).data('slug'); // Get the slug from the checkbox\n\t\n\t\t\t// Add the slug to the slugs array if it exists\n\t\t\tif (slug) {\n\t\t\t\tslugs.push(slug);\n\t\t\t}\n\t\n\t\t\t// Populate the selectedFilters object\n\t\t\tif (!selectedFilters[taxonomy]) {\n\t\t\t\tselectedFilters[taxonomy] = [];\n\t\t\t}\n\t\t\tselectedFilters[taxonomy].push(termId);\n\t\t});\n\t\n\t\t// Convert slugs array to a comma-separated string\n\t\tvar slugString = slugs.length > 0 ? slugs.join(',') : '';\n\t\n\t\t// Handle deep linking\n\t\tif (awsmJobsPublic.deep_linking.spec) {\n\t\t\tvar $paginationBase = $rootWrapper.find('input[name=\"awsm_pagination_base\"]');\n\t\t\tupdateQuery(currentSpec, slugString, $paginationBase.val()); // Use the comma-separated slugString\n\t\t}\n\t\n\t\t// Apply the job filters\n\t\tawsmJobFilters($rootWrapper);\n\t});\n\n\t$(wrapperSelector + ' .awsm-job-sort-filter').on('change', function(e) { \n\t//$('.awsm-job-sort-filter').on('change', function() {\n\t\tvar $elem = $(this);\n\t\tvar $rootWrapper = $elem.parents(rootWrapperSelector);\n\t\tvar sortValue = $rootWrapper.find('select.awsm-job-sort-filter').val(); \n\n\t\tsetPaginationBase($rootWrapper, 'sort', sortValue);\n\t\t//if (awsmJobsPublic.deep_linking.search) {\n\t\t\tvar $paginationBase = $rootWrapper.find('input[name=\"awsm_pagination_base\"]');\n\t\t\tupdateQuery('sort', sortValue, $paginationBase.val());\n\t\t//} \n\t\tawsmJobFilters($rootWrapper);\n\t});\n\n\n\t$(filterSelector + ' .awsm-b-job-search-btn').on('click', function() {\n\t\tsearchJobs($(this));\n\t});\n\n\t$(filterSelector + ' .awsm-b-job-search-close-btn').on('click', function() {\n\t\tvar $elem = $(this);\n\t\t$elem.parents(rootWrapperSelector).find('.awsm-b-job-search').val('');\n\t\tsearchJobs($elem);\n\t});\n\n\t$(filterSelector + ' .awsm-b-job-search').on('keypress', function(e) {\n\t\tif (e.which == 13) {\n\t\t\te.preventDefault();\n\t\t\tsearchJobs($(this));\n\t\t}\n\t});\n\t\n\t/* ========== Job Listings Load More ========== */\n\t$(wrapperSelector).on('click', '.awsm-b-jobs-pagination .awsm-b-load-more-btn, .awsm-b-jobs-pagination a.page-numbers', function(e) {\n\t\te.preventDefault(); \n\t\tvar $triggerElem = $(this); \n\t\tvar isDefaultPagination = $triggerElem.hasClass('awsm-b-load-more-btn');\n\t\tvar paged = 1;\n\t\tvar wpData = []; \n\n\t\tvar $mainContainer = $triggerElem.parents(rootWrapperSelector);\n\t\tvar $listingsContainer = $mainContainer.find(wrapperSelector);\n\t\tvar $listingsrowContainer = $listingsContainer.find(sectionSelector);\n\t\n\t\tvar $paginationWrapper = $triggerElem.parents('.awsm-b-jobs-pagination');\n\t\tvar listings \t\t\t= $listingsContainer.data('listings'); \n\t\tvar totalPosts \t\t\t= $listingsContainer.data('total-posts');  // Assuming this is passed via data\n\t\tvar specs \t\t\t\t= $listingsContainer.data('specs');\n\t\tvar lang \t\t\t\t= $listingsContainer.data('lang');\n\t\tvar searchQuery \t\t= $listingsContainer.data('search');\n\t\tvar orderby \t\t\t= $listingsContainer.data('orderby'); \n\t\n\t\t/* added for block */\n\t\tvar layout \t\t\t\t= $listingsContainer.data('awsm-layout');  \n\t\tvar hide_expired_jobs   = $listingsContainer.data('awsm-hide-expired-jobs');\n\t\tvar selected_terms \t\t= $listingsContainer.data('awsm-selected-terms'); \n\t\tvar other_options \t\t= $listingsContainer.data('awsm-other-options');\n\t\t/* end */\n\t\t\n\t\tif (isDefaultPagination) {\n\t\t\t$triggerElem.prop('disabled', true);\n\t\t\tpaged = $triggerElem.data('page');\n\t\t\tpaged = (typeof paged == 'undefined') ? 1 : paged;\n\t\t} else {\n\t\t\t$triggerElem.parents('.page-numbers').find('.page-numbers').removeClass('current').removeAttr('aria-current');\n\t\t\t$triggerElem.addClass('current').attr('aria-current', 'page');\n\t\t}\n\t\t$paginationWrapper.addClass('awsm-b-jobs-pagination-loading');\n\t\n\t\t// filters\n\t\tvar $filterForm = $mainContainer.find(filterSelector + ' form');\n\t\tif (filterCheck($filterForm)) { \n\t\t\tvar $filterOption = $filterForm.find('.awsm-b-filter-option'); \n\t\t\twpData = $filterOption.serializeArray(); \n\t\t}\n\n\t\tvar specsList = {}; \n\t\t$filterForm.find('.awsm-filter-checkbox:checked').each(function () { \n\t\t\tvar $checkbox = $(this);\n\t\t\tvar taxonomy = $checkbox.data('taxonomy'); // Get taxonomy from data attribute\n\t\t\tvar termId = $checkbox.data('term-id'); // Get term ID from data attribute\n\t\n\t\t\tif (taxonomy && termId) {\n\t\t\t\tif (!specsList[taxonomy]) {\n\t\t\t\t\tspecsList[taxonomy] = []; // Initialize array for this taxonomy\n\t\t\t\t}\n\t\t\t\tspecsList[taxonomy].push(termId); // Add term ID to the array\n\t\t\t}\n\t\t});\n\n\t\tfor (var taxonomy in specsList) {\n\t\t\tif (specsList.hasOwnProperty(taxonomy)) {\n\t\t\t\tspecsList[taxonomy].forEach(function (termId) {\n\t\t\t\t\twpData.push({\n\t\t\t\t\t\tname: `awsm_job_specs_list[${taxonomy}][]`, // Add taxonomy as part of the key\n\t\t\t\t\t\tvalue: termId\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\n\t\tif (! isDefaultPagination) {\n\t\t\tvar paginationBaseURL = $triggerElem.attr('href');\n\t\t\tvar splittedURL = paginationBaseURL.split('?');\n\t\t\tvar queryString = '';\n\t\t\tif (splittedURL.length > 1) {\n\t\t\t\tvar searchParams = new URLSearchParams(splittedURL[1]);\n\t\t\t\tpaged = searchParams.get('paged');\n\t\t\t\tsearchParams.delete('paged');\n\t\t\t\tif (searchParams.toString().length > 0) {\n\t\t\t\t\tqueryString = '?' + searchParams.toString();\n\t\t\t\t}\n\t\t\t}\n\t\t\tpaginationBaseURL = splittedURL[0] + queryString;\n\t\t\twpData.push({\n\t\t\t\tname: 'awsm_pagination_base',\n\t\t\t\tvalue: splittedURL[0] + queryString\n\t\t\t});\n\t\t\tif (awsmJobsPublic.deep_linking.pagination) {\n\t\t\t\tupdateQuery('paged', paged, paginationBaseURL);\n\t\t\t}\n\t\t}\n\t\t\n\t\t// taxonomy archives\n\t\tif (awsmJobsPublic.is_tax_archive) {\n\t\t\tvar taxonomy = $listingsContainer.data('taxonomy'); \n\t\t\tvar termId = $listingsContainer.data('termId');\n\t\t\tif (typeof taxonomy !== 'undefined' && typeof termId !== 'undefined') {\n\t\t\t\twpData.push({\n\t\t\t\t\tname: 'awsm_job_spec[' + taxonomy + ']',\n\t\t\t\t\tvalue: termId\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\n\t\twpData.push({\n\t\t\tname: 'action',\n\t\t\tvalue: 'block_loadmore'\n\t\t}, {\n\t\t\tname: 'paged',\n\t\t\tvalue: paged\n\t\t});\n\t\tif (typeof listings !== 'undefined') {\n\t\t\twpData.push({\n\t\t\t\tname: 'listings_per_page',\n\t\t\t\tvalue: listings\n\t\t\t});\n\t\t}\n\t\tif (typeof specs !== 'undefined') {\n\t\t\twpData.push({\n\t\t\t\tname: 'shortcode_specs',\n\t\t\t\tvalue: specs\n\t\t\t});\n\t\t}\n\t\n\t\t/* added for block */\n\t\tif (typeof layout !== 'undefined') {\n\t\t\twpData.push({\n\t\t\t\tname: 'awsm-layout',\n\t\t\t\tvalue: layout\n\t\t\t});\n\t\t}\n\t\tif (typeof hide_expired_jobs !== 'undefined') {\n\t\t\twpData.push({\n\t\t\t\tname: 'awsm-hide-expired-jobs',\n\t\t\t\tvalue: hide_expired_jobs\n\t\t\t});\n\t\t}\n\t\t\n\t\tif (selected_terms) {\n\t\t\tif (typeof selected_terms === 'string') {\n\t\t\t\ttry {\n\t\t\t\t\t// Parse the JSON string into an object\n\t\t\t\t\tselected_terms = JSON.parse(selected_terms);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error(\"Failed to parse selected_terms JSON:\", error);\n\t\t\t\t\tselected_terms = {}; // Fallback to an empty object\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\t// Push to wpData\n\t\t\twpData.push({\n\t\t\t\tname: 'awsm-selected-terms',\n\t\t\t\tvalue: JSON.stringify(selected_terms) // Send as JSON string\n\t\t\t});\n\t\t}\n\n\t\tif (typeof other_options !== 'undefined') {\n\t\t\twpData.push({\n\t\t\t\tname: 'awsm-other-options',\n\t\t\t\tvalue: other_options\n\t\t\t});\n\t\t}\n\t\tif (typeof listings_total !== 'undefined') {\n\t\t\twpData.push({\n\t\t\t\tname: 'awsm-listings-total',\n\t\t\t\tvalue: listings_total\n\t\t\t});\n\t\t}\n\t\t\n\t\tif (typeof lang !== 'undefined') {\n\t\t\twpData.push({\n\t\t\t\tname: 'lang',\n\t\t\t\tvalue: lang\n\t\t\t});\n\t\t}\n\n\t\tif (typeof searchQuery !== 'undefined') {\n\t\t\twpData.push({\n\t\t\t\tname: 'jq',\n\t\t\t\tvalue: searchQuery\n\t\t\t});\n\t\t}\n\n\t\tif (typeof orderby !== 'undefined') {\n\t\t\twpData.push({\n\t\t\t\tname: 'filter_sort',\n\t\t\t\tvalue: orderby\n\t\t\t});\n\t\t}\n\n\t\t$(document).trigger('awsmjobs_block_load_more', [ $listingsContainer, wpData ]);\n\t\tvar listingsData = getListingsData($listingsContainer);\n\t\tif (listingsData.length > 0) {\n\t\t\twpData = wpData.concat(listingsData);\n\t\t}\n\t\n\t\t// now, handle ajax\n\t\t$.ajax({\n\t\t\turl: awsmJobsPublic.ajaxurl,\n\t\t\tdata: $.param(wpData),\n\t\t\ttype: 'POST',\n\t\t\tbeforeSend: function() {\n\t\t\t\tif (isDefaultPagination) {\n\t\t\t\t\t$triggerElem.text(awsmJobsPublic.i18n.loading_text);\n\t\t\t\t} else {\n\t\t\t\t\t$listingsContainer.addClass('awsm-jobs-loading');\n\t\t\t\t}\n\t\t\t}\n\t\t}).done(function(data) {\n\t\t\tif (data) { \n\t\t\t\tvar effectDuration = $paginationWrapper.data('effectDuration');\n\t\t\t\t$paginationWrapper.remove();\n\t\t\t\tif (isDefaultPagination) {\n\t\t\t\t\t$listingsrowContainer.append(data);\n\t\t\t\t} else { \n\t\t\t\t\t$listingsrowContainer.html(data);\n\t\t\t\t\t$listingsContainer.removeClass('awsm-jobs-loading');\n\t\t\t\t\tif (typeof effectDuration !== 'undefined') {\n\t\t\t\t\t\teffectDuration = isNaN(effectDuration) ? effectDuration : Number(effectDuration);\n\t\t\t\t\t\t$('html, body').animate({\n\t\t\t\t\t\t\tscrollTop: $mainContainer.offset().top - 25\n\t\t\t\t\t\t}, effectDuration);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\t$triggerElem.remove();\n\t\t\t}\n\t\n\t\t\t$(document).trigger('awsmjobs_load_more', [ $triggerElem, data ]);\n\t\t}).fail(function(xhr) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.log(xhr);\n\t\t});\n\t});\n\n\t/**\n\t * Handle the filters toggle button in the job listing.\n\t */\n\t$(document).on('click', '.awsm-b-filter-toggle', function(e) {\n\t\te.preventDefault();\n\t\tvar $elem = $(this);\n\t\t$elem.toggleClass('awsm-on');\n\t\tif ($elem.hasClass('awsm-on')) {\n\t\t\t$elem.attr('aria-pressed', 'true');\n\t\t} else {\n\t\t\t$elem.attr('aria-pressed', 'false');\n\t\t}\n\t\tvar $parent = $elem.parent();\n\t\t$parent.find('.awsm-b-filter-items').slideToggle();\n\t});\n\n\t/**\n\t * Handle the responsive styles for filters in the job listing when search is enabled.\n\t */\n\tfunction filtersResponsiveStylesHandler() {\n\t\tvar $filtersWrap = $('.awsm-b-filter-wrap').not('.awsm-b-no-search-filter-wrap');\n\t\t$filtersWrap.each(function() {\n\t\t\tvar $wrapper = $(this); \n\t\t\tvar filterFirstTop = $wrapper.find('.awsm-b-filter-item').first().offset().top;\n\t\t\tvar filterLastTop = $wrapper.find('.awsm-b-filter-item').last().offset().top;\n\t\t\tif(window.innerWidth < 768) {\n\t\t\t\t$wrapper.removeClass('awsm-b-full-width-search-filter-wrap');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (filterLastTop > filterFirstTop) {\n\t\t\t\t$wrapper.addClass('awsm-b-full-width-search-filter-wrap');\n\t\t\t}\n\t\t});\n\t}\n\n\tif ($('.awsm-b-filter-wrap').not('.awsm-b-no-search-filter-wrap').length > 0) {\n\t\tfiltersResponsiveStylesHandler();\n\t\t$(window).on('resize', filtersResponsiveStylesHandler);\n\t}\n});\n\n"],"names":["jQuery","$","rootWrapperSelector","wrapperSelector","sectionSelector","filterSelector","currentUrl","window","location","protocol","host","pathname","triggerFilter","getListingsData","$wrapper","data","parsedListingsAttrs","push","document","trigger","dataAttrs","each","dataAttr","value","inArray","name","awsmJobFilters","$rootWrapper","find","$rowWrapper","$filterForm","formData","length","serializeArray","formMethod","attr","toUpperCase","listings","specs","sortFilter","val","layout","hide_expired_jobs","selected_terms","other_options","listings_total","sort","JSON","parse","error","console","stringify","listingsData","concat","actionUrl","awsmJobsPublic","ajaxurl","ajax","url","beforeSend","addClass","type","done","html","$searchControl","removeClass","fail","xhr","log","always","filterCheck","check","$filterOption","searchJobs","$elem","parents","searchQuery","setPaginationBase","deep_linking","search","$paginationBase","updateQuery","$currentWrapper","is_search","searchParams","URLSearchParams","hasFiltersInURL","toString","key","split","has","delete","set","modQueryString","history","replaceState","splittedURL","queryString","hide","slice","on","e","preventDefault","show","closest","currentSpec","isMultiple","prop","allOptions","firstOption","eq","selectedOptions","isAllSelected","allLiItems","firstLiItem","selectedLiItems","filter","slugs","isCheckboxFilter","map","get","Boolean","index","slugString","join","spec","selectedFilters","taxonomy","termId","slug","sortValue","which","$triggerElem","isDefaultPagination","hasClass","paged","wpData","$mainContainer","$listingsContainer","$listingsrowContainer","$paginationWrapper","totalPosts","lang","orderby","removeAttr","specsList","$checkbox","hasOwnProperty","forEach","paginationBaseURL","pagination","is_tax_archive","param","text","i18n","loading_text","effectDuration","remove","append","isNaN","Number","animate","scrollTop","offset","top","toggleClass","$parent","parent","slideToggle","filtersResponsiveStylesHandler","$filtersWrap","not","filterFirstTop","first","filterLastTop","last","innerWidth"],"sourceRoot":""}