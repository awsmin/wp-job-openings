{"version":3,"file":"view.js","mappings":"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","sources":["webpack://wjo-block/./src/view.js"],"sourcesContent":["'use strict';\n\njQuery(function($) { \n\tvar rootWrapperSelector = '.awsm-job-wrap';\n\tvar wrapperSelector = '.awsm-job-listings';\n\n\t/* ========== Job Search and Filtering ========== */\n\n\tvar filterSelector = '.awsm-filter-wrap';\n\tvar currentUrl = window.location.protocol + '//' + window.location.host + window.location.pathname;\n\tvar triggerFilter = true;\n\n\tfunction getListingsData($wrapper) {  \n\t\tvar data = [];\n\t\tvar parsedListingsAttrs = [ 'listings', 'specs', 'search', 'lang', 'taxonomy', 'termId' ];\n\n\t\t/* added for block */\n\t\tparsedListingsAttrs.push('layout');\n\t\tparsedListingsAttrs.push('hide_expired_jobs');\n\t\tparsedListingsAttrs.push('other_options');\n\t\tparsedListingsAttrs.push('position_filling');\n\t\t/* end */\n\n\t\tvar dataAttrs = $wrapper.data();\n\t\t$.each(dataAttrs, function(dataAttr, value) { \n\t\t\tif ($.inArray(dataAttr, parsedListingsAttrs) === -1) {\n\t\t\t\tdata.push({\n\t\t\t\t\tname: dataAttr,\n\t\t\t\t\tvalue: value\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn data;\n\t}\n\n\tfunction awsmJobFilters($rootWrapper) { \n\t\tvar $wrapper = $rootWrapper.find(wrapperSelector);\n\t\tvar $filterForm = $rootWrapper.find(filterSelector + ' form');\n\t\tvar formData = $filterForm.serializeArray();\n\t\tvar listings = $wrapper.data('listings');\n\t\tvar specs = $wrapper.data('specs');\n\t\t\n\n\t\t/* added for block */\n\t\tvar layout \t\t\t\t= $wrapper.data('layout');\n\t\tvar hide_expired_jobs   = $wrapper.data('hide_expired_jobs'); \n\t\tvar other_options \t\t= $wrapper.data('other_options'); \n\t\tvar position_filling \t= $wrapper.data('position_filling'); \n\t\t/* end */\n\t\tformData.push({\n\t\t\tname: 'listings_per_page',\n\t\t\tvalue: listings\n\t\t});\n\t\tif (typeof specs !== 'undefined') {\n\t\t\tformData.push({\n\t\t\t\tname: 'shortcode_specs',\n\t\t\t\tvalue: specs\n\t\t\t});\n\t\t}\n\n\t\t/* added for block */\n\t\tif (typeof layout !== 'undefined') {\n\t\t\tformData.push({\n\t\t\t\tname: 'layout',\n\t\t\t\tvalue: layout\n\t\t\t});\n\t\t}\n\n\t\tif (typeof hide_expired_jobs !== 'undefined') {\n\t\t\tformData.push({\n\t\t\t\tname: 'hide_expired_jobs',\n\t\t\t\tvalue: hide_expired_jobs\n\t\t\t});\n\t\t}\n\n\t\tif (typeof other_options !== 'undefined') {\n\t\t\tformData.push({\n\t\t\t\tname: 'other_options',\n\t\t\t\tvalue: other_options\n\t\t\t});\n\t\t}\n\n\t\tif (typeof position_filling !== 'undefined') {\n\t\t\tformData.push({\n\t\t\t\tname: 'position_filling',\n\t\t\t\tvalue: position_filling\n\t\t\t});\n\t\t}\n\t\t/* end */\n\n\t\tvar listingsData = getListingsData($wrapper);\n\t\tif (listingsData.length > 0) {\n\t\t\tformData = formData.concat(listingsData);\n\t\t}\n\t\tif (triggerFilter) {\n\n\t\t\t// stop the duplicate requests.\n\t\t\ttriggerFilter = false;\n\n\t\t\t// now, make the request.\n\t\t\t$.ajax({\n\t\t\t\turl: $filterForm.attr('action'),\n\t\t\t\tbeforeSend: function() {\n\t\t\t\t\t$wrapper.addClass('awsm-jobs-loading');\n\t\t\t\t},\n\t\t\t\tdata: formData,\n\t\t\t\ttype: $filterForm.attr('method')\n\t\t\t}).done(function(data) {\n\t\t\t\t$wrapper.html(data);\n\t\t\t\tvar $searchControl = $rootWrapper.find('.awsm-job-search');\n\t\t\t\tif ($searchControl.length > 0) {\n\t\t\t\t\tif ($searchControl.val().length > 0) {\n\t\t\t\t\t\t$rootWrapper.find('.awsm-job-search-btn').addClass('awsm-job-hide');\n\t\t\t\t\t\t$rootWrapper.find('.awsm-job-search-close-btn').removeClass('awsm-job-hide');\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$rootWrapper.find('.awsm-job-search-btn').removeClass('awsm-job-hide');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$(document).trigger('awsmjobs_filtered_listings', [ $rootWrapper, data ]);\n\t\t\t}).fail(function(xhr) {\n\t\t\t\t// eslint-disable-next-line no-console\n\t\t\t\tconsole.log(xhr);\n\t\t\t}).always(function() {\n\t\t\t\t$wrapper.removeClass('awsm-jobs-loading');\n\t\t\t\ttriggerFilter = true;\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction filterCheck($filterForm) {\n\t\tvar check = false;\n\t\tif ($filterForm.length > 0) {\n\t\t\tvar $filterOption = $filterForm.find('.awsm-filter-option');\n\t\t\t$filterOption.each(function() {\n\t\t\t\tif ($(this).val().length > 0) {\n\t\t\t\t\tcheck = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn check;\n\t}\n\n\tfunction searchJobs($elem) {\n\t\tvar $rootWrapper = $elem.parents(rootWrapperSelector);\n\t\tvar searchQuery = $rootWrapper.find('.awsm-job-search').val();\n\t\t$rootWrapper.find(wrapperSelector).data('search', searchQuery);\n\t\tif (searchQuery.length === 0) {\n\t\t\t$rootWrapper.find('.awsm-job-search-icon-wrapper').addClass('awsm-job-hide');\n\t\t}\n\t\tsetPaginationBase($rootWrapper, 'jq', searchQuery);\n\t\tif (awsmJobsPublic.deep_linking.search) {\n\t\t\tvar $paginationBase = $rootWrapper.find('input[name=\"awsm_pagination_base\"]');\n\t\t\tupdateQuery('jq', searchQuery, $paginationBase.val());\n\t\t}\n\t\tawsmJobFilters($rootWrapper);\n\t}\n\n\tif ($(rootWrapperSelector).length > 0) {\n\t\t$(rootWrapperSelector).each(function() {\n\t\t\tvar $currentWrapper = $(this);\n\t\t\tvar $filterForm = $currentWrapper.find(filterSelector + ' form');\n\t\t\tif (awsmJobsPublic.is_search.length > 0 || filterCheck($filterForm)) {\n\t\t\t\ttriggerFilter = true;\n\t\t\t\tawsmJobFilters($currentWrapper);\n\t\t\t}\n\t\t});\n\t}\n\n\tvar updateQuery = function(key, value, url) {\n\t\turl = typeof url !== 'undefined' ? url : currentUrl;\n\t\turl = url.split('?')[0];\n\t\tvar searchParams = new URLSearchParams(document.location.search);\n\t\tif (searchParams.has('paged')) {\n\t\t\tsearchParams.delete('paged');\n\t\t}\n\t\tif (value.length > 0) {\n\t\t\tsearchParams.set(key, value);\n\t\t} else {\n\t\t\tsearchParams.delete(key);\n\t\t}\n\t\tvar modQueryString = searchParams.toString();\n\t\tif (modQueryString.length > 0) {\n\t\t\tmodQueryString = '?' + modQueryString;\n\t\t}\n\t\twindow.history.replaceState({}, '', url + modQueryString);\n\t};\n\n\tvar setPaginationBase = function($rootWrapper, key, value) {\n\t\tvar $paginationBase = $rootWrapper.find('input[name=\"awsm_pagination_base\"]');\n\t\tif ($paginationBase.length > 0) {\n\t\t\tvar splittedURL = $paginationBase.val().split('?');\n\t\t\tvar queryString = '';\n\t\t\tif (splittedURL.length > 1) {\n\t\t\t\tqueryString = splittedURL[1];\n\t\t\t}\n\t\t\tvar searchParams = new URLSearchParams(queryString);\n\t\t\tif (value.length > 0) {\n\t\t\t\tsearchParams.set(key, value);\n\t\t\t} else {\n\t\t\t\tsearchParams.delete(key);\n\t\t\t}\n\t\t\t$paginationBase.val(splittedURL[0] + '?' + searchParams.toString());\n\t\t\t$rootWrapper.find('input[name=\"paged\"]').val(1);\n\t\t}\n\t};\n\n\t$(filterSelector + ' .awsm-filter-option').on('change', function(e) { \n\t\te.preventDefault();\n\t\tvar $elem = $(this);\n\t\tvar $selected = $elem.find('option:selected');\n\t\tvar $rootWrapper = $elem.parents(rootWrapperSelector);\n\t\tvar currentSpec = $elem.parents('.awsm-filter-item').data('filter');\n\t\tvar slug = $selected.data('slug');\n\t\tslug = typeof slug !== 'undefined' ? slug : '';\n\t\tsetPaginationBase($rootWrapper, currentSpec, slug);\n\t\tif (awsmJobsPublic.deep_linking.spec) {\n\t\t\tvar $paginationBase = $rootWrapper.find('input[name=\"awsm_pagination_base\"]');\n\t\t\tupdateQuery(currentSpec, slug, $paginationBase.val());\n\t\t}\n\t\tawsmJobFilters($rootWrapper);\n\t});\n\n\t$(filterSelector + ' .awsm-job-search-btn').on('click', function() {\n\t\tsearchJobs($(this));\n\t});\n\n\t$(filterSelector + ' .awsm-job-search-close-btn').on('click', function() {\n\t\tvar $elem = $(this);\n\t\t$elem.parents(rootWrapperSelector).find('.awsm-job-search').val('');\n\t\tsearchJobs($elem);\n\t});\n\n\t$(filterSelector + ' .awsm-job-search').on('keypress', function(e) {\n\t\tif (e.which == 13) {\n\t\t\te.preventDefault();\n\t\t\tsearchJobs($(this));\n\t\t}\n\t});\n\n\t/* ========== Job Listings Load More ========== */\n\t$(wrapperSelector).on('click', '.awsm-b-jobs-pagination .awsm-b-load-more-btn, .awsm-b-jobs-pagination a.page-numbers', function(e) {\n\t\te.preventDefault(); \n\t\tvar $triggerElem = $(this);\n\t\tvar isDefaultPagination = $triggerElem.hasClass('awsm-b-load-more-btn');\n\t\tvar paged = 1;\n\t\tvar wpData = [];\n\t\tvar $mainContainer = $triggerElem.parents(rootWrapperSelector);\n\t\tvar $listingsContainer = $mainContainer.find(wrapperSelector);\n\t\tvar $paginationWrapper = $triggerElem.parents('.awsm-b-jobs-pagination');\n\t\tvar listings = $listingsContainer.data('listings');\n\t\tvar specs = $listingsContainer.data('specs');\n\t\tvar lang = $listingsContainer.data('lang');\n\t\tvar searchQuery = $listingsContainer.data('search');\n\n\t\t/* added for block */\n\t\tvar layout = $listingsContainer.data('layout');\n\t\tvar hide_expired_jobs = $listingsContainer.data('hide_expired_jobs');\n\t\tvar other_options = $listingsContainer.data('other_options');\n\t\tvar position_filling = $listingsContainer.data('position_filling');\n\t\t/* end */\n\n\t\tif (isDefaultPagination) {\n\t\t\t$triggerElem.prop('disabled', true);\n\t\t\tpaged = $triggerElem.data('page');\n\t\t\tpaged = (typeof paged == 'undefined') ? 1 : paged;\n\t\t} else {\n\t\t\t$triggerElem.parents('.page-numbers').find('.page-numbers').removeClass('current').removeAttr('aria-current');\n\t\t\t$triggerElem.addClass('current').attr('aria-current', 'page');\n\t\t}\n\t\t$paginationWrapper.addClass('awsm-jobs-pagination-loading');\n\n\t\t// filters\n\t\tvar $filterForm = $mainContainer.find(filterSelector + ' form');\n\t\tif (filterCheck($filterForm)) {\n\t\t\tvar $filterOption = $filterForm.find('.awsm-filter-option');\n\t\t\twpData = $filterOption.serializeArray();\n\t\t}\n\n\t\tif (! isDefaultPagination) {\n\t\t\tvar paginationBaseURL = $triggerElem.attr('href');\n\t\t\tvar splittedURL = paginationBaseURL.split('?');\n\t\t\tvar queryString = '';\n\t\t\tif (splittedURL.length > 1) {\n\t\t\t\tvar searchParams = new URLSearchParams(splittedURL[1]);\n\t\t\t\tpaged = searchParams.get('paged');\n\t\t\t\tsearchParams.delete('paged');\n\t\t\t\tif (searchParams.toString().length > 0) {\n\t\t\t\t\tqueryString = '?' + searchParams.toString();\n\t\t\t\t}\n\t\t\t}\n\t\t\tpaginationBaseURL = splittedURL[0] + queryString;\n\t\t\twpData.push({\n\t\t\t\tname: 'awsm_pagination_base',\n\t\t\t\tvalue: splittedURL[0] + queryString\n\t\t\t});\n\t\t\tif (awsmJobsPublic.deep_linking.pagination) {\n\t\t\t\tupdateQuery('paged', paged, paginationBaseURL);\n\t\t\t}\n\t\t}\n\n\t\t// taxonomy archives\n\t\tif (awsmJobsPublic.is_tax_archive) {\n\t\t\tvar taxonomy = $listingsContainer.data('taxonomy');\n\t\t\tvar termId = $listingsContainer.data('termId');\n\t\t\tif (typeof taxonomy !== 'undefined' && typeof termId !== 'undefined') {\n\t\t\t\twpData.push({\n\t\t\t\t\tname: 'awsm_job_spec[' + taxonomy + ']',\n\t\t\t\t\tvalue: termId\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\twpData.push({\n\t\t\tname: 'action',\n\t\t\tvalue: 'block_loadmore'\n\t\t}, {\n\t\t\tname: 'paged',\n\t\t\tvalue: paged\n\t\t});\n\t\tif (typeof listings !== 'undefined') {\n\t\t\twpData.push({\n\t\t\t\tname: 'listings_per_page',\n\t\t\t\tvalue: listings\n\t\t\t});\n\t\t}\n\t\tif (typeof specs !== 'undefined') {\n\t\t\twpData.push({\n\t\t\t\tname: 'shortcode_specs',\n\t\t\t\tvalue: specs\n\t\t\t});\n\t\t}\n\n\t\t/* added for block */\n\t\tif (typeof layout !== 'undefined') {\n\t\t\twpData.push({\n\t\t\t\tname: 'layout',\n\t\t\t\tvalue: layout\n\t\t\t});\n\t\t}\n\t\tif (typeof hide_expired_jobs !== 'undefined') {\n\t\t\twpData.push({\n\t\t\t\tname: 'hide_expired_jobs',\n\t\t\t\tvalue: hide_expired_jobs\n\t\t\t});\n\t\t}\n\t\tif (typeof other_options !== 'undefined') {\n\t\t\twpData.push({\n\t\t\t\tname: 'other_options',\n\t\t\t\tvalue: other_options\n\t\t\t});\n\t\t}\n\t\tif (typeof position_filling !== 'undefined') {\n\t\t\twpData.push({\n\t\t\t\tname: 'position_filling',\n\t\t\t\tvalue: position_filling\n\t\t\t});\n\t\t}\n\t\t/* end */\n\n\t\tif (typeof lang !== 'undefined') {\n\t\t\twpData.push({\n\t\t\t\tname: 'lang',\n\t\t\t\tvalue: lang\n\t\t\t});\n\t\t}\n\t\tif (typeof searchQuery !== 'undefined') {\n\t\t\twpData.push({\n\t\t\t\tname: 'jq',\n\t\t\t\tvalue: searchQuery\n\t\t\t});\n\t\t}\n\t\tvar listingsData = getListingsData($listingsContainer);\n\t\tif (listingsData.length > 0) {\n\t\t\twpData = wpData.concat(listingsData);\n\t\t}\n\n\t\t// now, handle ajax\n\t\t$.ajax({\n\t\t\turl: awsmJobsPublic.ajaxurl,\n\t\t\tdata: $.param(wpData),\n\t\t\ttype: 'POST',\n\t\t\tbeforeSend: function() {\n\t\t\t\tif (isDefaultPagination) {\n\t\t\t\t\t$triggerElem.text(awsmJobsPublic.i18n.loading_text);\n\t\t\t\t} else {\n\t\t\t\t\t$listingsContainer.addClass('awsm-jobs-loading');\n\t\t\t\t}\n\t\t\t}\n\t\t}).done(function(data) {\n\t\t\tif (data) {\n\t\t\t\tvar effectDuration = $paginationWrapper.data('effectDuration');\n\t\t\t\t$paginationWrapper.remove();\n\t\t\t\tif (isDefaultPagination) {\n\t\t\t\t\t$listingsContainer.append(data);\n\t\t\t\t} else {\n\t\t\t\t\t$listingsContainer.html(data);\n\t\t\t\t\t$listingsContainer.removeClass('awsm-jobs-loading');\n\t\t\t\t\tif (typeof effectDuration !== 'undefined') {\n\t\t\t\t\t\teffectDuration = isNaN(effectDuration) ? effectDuration : Number(effectDuration);\n\t\t\t\t\t\t$('html, body').animate({\n\t\t\t\t\t\t\tscrollTop: $mainContainer.offset().top - 25\n\t\t\t\t\t\t}, effectDuration);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$triggerElem.remove();\n\t\t\t}\n\t\t\t$(document).trigger('awsmjobs_load_more', [ $triggerElem, data ]);\n\t\t}).fail(function(xhr) {\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.log(xhr);\n\t\t});\n\t});\n\n\t/* ========== Custom select box - selectric ========== */\n\n\tfunction awsmDropDown($elem) {\n\t\tif ('selectric' in awsmJobsPublic.vendors && awsmJobsPublic.vendors.selectric) {\n\t\t\t$elem.selectric({\n\t\t\t\tonInit: function(select, selectric) {\n\t\t\t\t\tvar id = select.id;\n\t\t\t\t\tvar $input = $(selectric.elements.input);\n\t\t\t\t\t$(select).attr('id', 'selectric-' + id);\n\t\t\t\t\t$input.attr('id', id);\n\t\t\t\t},\n\t\t\t\tarrowButtonMarkup: '<span class=\"awsm-selectric-arrow-drop\">&#x25be;</span>',\n\t\t\t\tcustomClass: {\n\t\t\t\t\tprefix: 'awsm-selectric',\n\t\t\t\t\tcamelCase: false\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\tawsmDropDown($('.awsm-job-select-control'));\n\tawsmDropDown($('.awsm-filter-item select'));\n\n\t/**\n\t * Handle the filters toggle button in the job listing.\n\t */\n\t$(document).on('click', '.awsm-filter-toggle', function(e) {\n\t\te.preventDefault();\n\t\tvar $elem = $(this);\n\t\t$elem.toggleClass('awsm-on');\n\t\tif ($elem.hasClass('awsm-on')) {\n\t\t\t$elem.attr('aria-pressed', 'true');\n\t\t} else {\n\t\t\t$elem.attr('aria-pressed', 'false');\n\t\t}\n\t\tvar $parent = $elem.parent();\n\t\t$parent.find('.awsm-filter-items').slideToggle();\n\t});\n\n\t/**\n\t * Handle the responsive styles for filters in the job listing when search is enabled.\n\t */\n\tfunction filtersResponsiveStylesHandler() {\n\t\tvar $filtersWrap = $('.awsm-filter-wrap').not('.awsm-no-search-filter-wrap');\n\t\t$filtersWrap.each(function() {\n\t\t\tvar $wrapper = $(this);\n\t\t\tvar filterFirstTop = $wrapper.find('.awsm-filter-item').first().offset().top;\n\t\t\tvar filterLastTop = $wrapper.find('.awsm-filter-item').last().offset().top;\n\t\t\tif (filterLastTop > filterFirstTop) {\n\t\t\t\t$wrapper.addClass('awsm-full-width-search-filter-wrap');\n\t\t\t} else {\n\t\t\t\t$wrapper.removeClass('awsm-full-width-search-filter-wrap');\n\t\t\t}\n\t\t});\n\t}\n\tif ($('.awsm-filter-wrap').not('.awsm-no-search-filter-wrap').length > 0) {\n\t\tfiltersResponsiveStylesHandler();\n\t\t$(window).on('resize', filtersResponsiveStylesHandler);\n\t}\n});\n\n"],"names":["jQuery","$","rootWrapperSelector","wrapperSelector","filterSelector","currentUrl","window","location","protocol","host","pathname","triggerFilter","getListingsData","$wrapper","data","parsedListingsAttrs","push","dataAttrs","each","dataAttr","value","inArray","name","awsmJobFilters","$rootWrapper","find","$filterForm","formData","serializeArray","listings","specs","layout","hide_expired_jobs","other_options","position_filling","listingsData","length","concat","ajax","url","attr","beforeSend","addClass","type","done","html","$searchControl","val","removeClass","document","trigger","fail","xhr","console","log","always","filterCheck","check","$filterOption","searchJobs","$elem","parents","searchQuery","setPaginationBase","awsmJobsPublic","deep_linking","search","$paginationBase","updateQuery","$currentWrapper","is_search","key","split","searchParams","URLSearchParams","has","delete","set","modQueryString","toString","history","replaceState","splittedURL","queryString","on","e","preventDefault","$selected","currentSpec","slug","spec","which","$triggerElem","isDefaultPagination","hasClass","paged","wpData","$mainContainer","$listingsContainer","$paginationWrapper","lang","prop","removeAttr","paginationBaseURL","get","pagination","is_tax_archive","taxonomy","termId","ajaxurl","param","text","i18n","loading_text","effectDuration","remove","append","isNaN","Number","animate","scrollTop","offset","top","awsmDropDown","vendors","selectric","onInit","select","id","$input","elements","input","arrowButtonMarkup","customClass","prefix","camelCase","toggleClass","$parent","parent","slideToggle","filtersResponsiveStylesHandler","$filtersWrap","not","filterFirstTop","first","filterLastTop","last"],"sourceRoot":""}